(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{786:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g});var a=s(5155),t=s(2115),l=s(6046),o=s(6551),n=s.n(o);let u=e=>{let{value:r,onSquareClick:s}=e;return(0,a.jsx)("button",{className:n().square,onClick:s,children:r})};var c=s(4920),i=s.n(c);function d(e){let r=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let s=0;s<r.length;s++){let[a,t,l]=r[s];if(e[a]&&e[a]===e[t]&&e[a]===e[l])return e[a]}return null}let m=e=>{let r,{xIsNext:s,squares:t,onPlay:l}=e,o=e=>{if(d(t)||t[e])return;let r=t.slice();r[e]=s?"X":"O",l(r)},n=d(t);return r=n?"Winner: "+n:"Next player: "+(s?"X":"O"),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:i().status,children:r}),(0,a.jsxs)("div",{className:i()["board-row"],children:[(0,a.jsx)(u,{value:t[0],onSquareClick:()=>o(0)}),(0,a.jsx)(u,{value:t[1],onSquareClick:()=>o(1)}),(0,a.jsx)(u,{value:t[2],onSquareClick:()=>o(2)})]}),(0,a.jsxs)("div",{className:i()["board-row"],children:[(0,a.jsx)(u,{value:t[3],onSquareClick:()=>o(3)}),(0,a.jsx)(u,{value:t[4],onSquareClick:()=>o(4)}),(0,a.jsx)(u,{value:t[5],onSquareClick:()=>o(5)})]}),(0,a.jsxs)("div",{className:i()["board-row"],children:[(0,a.jsx)(u,{value:t[6],onSquareClick:()=>o(6)}),(0,a.jsx)(u,{value:t[7],onSquareClick:()=>o(7)}),(0,a.jsx)(u,{value:t[8],onSquareClick:()=>o(8)})]})]})};var h=s(6924),x=s.n(h),v=s(1205);let g=()=>{let e=v.A.getCurrent(),r=(0,l.useRouter)(),[s,o]=(0,t.useState)(null),[n,u]=(0,t.useState)(0),c=()=>{e.getGameState().then(e=>{null===e?(o([Array(9).fill(null)]),u(0)):(o(e),u(e.length-1)),console.log("Loaded a saved game from storage.")}).catch(e=>{o([Array(9).fill(null)]),console.error("There was an error loading a saved game:",e)})},i=e=>{null!==s&&u(e)},d=s?s.map((e,r)=>{let s=r>0?"Go to move #".concat(r):"Go to game start";return(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:()=>i(r),children:s})},r)}):[];return(0,t.useEffect)(()=>{let e=()=>{console.log("Game was reset."),c()};return v.A.addResetListener(e),console.log("Subscribed to the global reset event."),()=>{v.A.removeResetListener(e),console.log("Unsubscribed from the global reset event.")}},[r,c]),(0,t.useEffect)(()=>{c()},[c]),(0,t.useEffect)(()=>{null!==s&&e.setGameState(s)},[e,s]),(0,a.jsx)("div",{className:x().game,children:null===s?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:x()["game-board"],children:[(0,a.jsx)(m,{xIsNext:n%2==0,squares:(()=>{if(null===s)throw Error("No game history available");return s[n]})(),onPlay:e=>{if(null===s)return;let r=[...s.slice(0,n+1),e];o(r),u(r.length-1)}}),(0,a.jsx)("div",{className:x()["game-controls"],children:(0,a.jsx)("button",{onClick:()=>{v.A.reset()},children:"Reset Board"})})]}),(0,a.jsxs)("div",{className:x()["game-info"],children:[(0,a.jsx)("div",{className:x()["moves-title"],children:(0,a.jsx)("p",{children:"Past Moves:"})}),(0,a.jsx)("ol",{children:d})]})]})})}},6046:(e,r,s)=>{"use strict";var a=s(6658);s.o(a,"usePathname")&&s.d(r,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})},4920:e=>{e.exports={status:"board_status__J8XmC","board-row":"board_board-row__pNblo"}},6551:e=>{e.exports={square:"square_square__fhJJk"}},6924:e=>{e.exports={game:"tictactoe_game__J8yA5","game-board":"tictactoe_game-board__WIDEL","game-controls":"tictactoe_game-controls__aGXtS","moves-title":"tictactoe_moves-title__6ulQl"}}}]);