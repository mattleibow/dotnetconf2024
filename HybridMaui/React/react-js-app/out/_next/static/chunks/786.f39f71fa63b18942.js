(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{786:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var l=a(5155),r=a(2115),t=a(6046),o=a(6551),n=a.n(o);let u=e=>{let{value:s,onSquareClick:a}=e;return(0,l.jsx)("button",{className:n().square,onClick:a,children:s})};var c=a(4920),i=a.n(c);function d(e){let s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let a=0;a<s.length;a++){let[l,r,t]=s[a];if(e[l]&&e[l]===e[r]&&e[l]===e[t])return e[l]}return null}let m=e=>{let s,{xIsNext:a,squares:r,onPlay:t}=e,o=e=>{if(d(r)||r[e])return;let s=r.slice();s[e]=a?"X":"O",t(s)},n=d(r);return s=n?"Winner: "+n:"Next player: "+(a?"X":"O"),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:i().status,children:s}),(0,l.jsxs)("div",{className:i()["board-row"],children:[(0,l.jsx)(u,{value:r[0],onSquareClick:()=>o(0)}),(0,l.jsx)(u,{value:r[1],onSquareClick:()=>o(1)}),(0,l.jsx)(u,{value:r[2],onSquareClick:()=>o(2)})]}),(0,l.jsxs)("div",{className:i()["board-row"],children:[(0,l.jsx)(u,{value:r[3],onSquareClick:()=>o(3)}),(0,l.jsx)(u,{value:r[4],onSquareClick:()=>o(4)}),(0,l.jsx)(u,{value:r[5],onSquareClick:()=>o(5)})]}),(0,l.jsxs)("div",{className:i()["board-row"],children:[(0,l.jsx)(u,{value:r[6],onSquareClick:()=>o(6)}),(0,l.jsx)(u,{value:r[7],onSquareClick:()=>o(7)}),(0,l.jsx)(u,{value:r[8],onSquareClick:()=>o(8)})]})]})};var h=a(6924),x=a.n(h),v=a(1205);let g=()=>{let e=v.A.getCurrent(),s=(0,t.useRouter)(),[a,o]=(0,r.useState)(null),[n,u]=(0,r.useState)(0),c=()=>{console.log("Game was reset."),i()};(0,r.useEffect)(()=>(v.A.addResetListener(c),console.log("Subscribed to the global reset event."),()=>{v.A.removeResetListener(c),console.log("Unsubscribed from the global reset event.")}),[s]),(0,r.useEffect)(()=>{i()},[]),(0,r.useEffect)(()=>{null!==a&&e.setGameState(a)},[e,a]);let i=()=>{e.getGameState().then(e=>{null===e?(o([Array(9).fill(null)]),u(0)):(o(e),u(e.length-1)),console.log("Loaded a saved game from storage.")}).catch(e=>{o([Array(9).fill(null)]),console.error("There was an error loading a saved game:",e)})},d=e=>{null!==a&&u(e)},h=a?a.map((e,s)=>{let a=s>0?"Go to move #".concat(s):"Go to game start";return(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>d(s),children:a})},s)}):[];return(0,l.jsx)("div",{className:x().game,children:null===a?(0,l.jsx)("p",{children:"Loading..."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:x()["game-board"],children:[(0,l.jsx)(m,{xIsNext:n%2==0,squares:(()=>{if(null===a)throw Error("No game history available");return a[n]})(),onPlay:e=>{if(null===a)return;let s=[...a.slice(0,n+1),e];o(s),u(s.length-1)}}),(0,l.jsx)("div",{className:x()["game-controls"],children:(0,l.jsx)("button",{onClick:()=>{v.A.reset()},children:"Reset Board"})})]}),(0,l.jsxs)("div",{className:x()["game-info"],children:[(0,l.jsx)("div",{className:x()["moves-title"],children:(0,l.jsx)("p",{children:"Past Moves:"})}),(0,l.jsx)("ol",{children:h})]})]})})}},6046:(e,s,a)=>{"use strict";var l=a(6658);a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}})},4920:e=>{e.exports={status:"board_status__J8XmC","board-row":"board_board-row__pNblo"}},6551:e=>{e.exports={square:"square_square__fhJJk"}},6924:e=>{e.exports={game:"tictactoe_game__J8yA5","game-board":"tictactoe_game-board__WIDEL","game-controls":"tictactoe_game-controls__aGXtS","moves-title":"tictactoe_moves-title__6ulQl"}}}]);